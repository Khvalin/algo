package main

import "fmt"

func canPartition(nums []int) bool {
	sum := 0
	for _, n := range nums {
		sum += n
	}

	if sum%2 == 1 {
		return false
	}

	target := sum >> 1

	a := []int{0}
	m := map[int]bool{}

	for _, n := range nums {
		l := len(a)
		for j := 0; j < l; j++ {
			next := n + a[j]
			if next == target {
				return true
			}

			if !m[next] && next < target {
				a = append(a, next)
				m[next] = true
			}
		}

	}

	return false
}

func main() {
	a := []int{1, 5, 11, 5}
	a = []int{99, 4, 66, 25, 9, 33, 88, 49, 72, 65, 19, 92, 66, 92, 55, 4, 79, 69, 98, 21, 17, 68, 80, 27, 54, 34, 37, 18, 70, 30, 99, 61, 68, 10, 66, 32, 33, 80, 21, 99, 60, 17, 7, 53, 71, 55, 86, 14, 72, 4, 56, 93, 46, 1, 35, 66, 21, 35, 47, 90, 9, 10, 34, 18, 7, 64, 80, 41, 34, 72, 59, 15, 97, 27, 33, 28, 46, 89, 91, 29, 62, 8, 7, 47, 97, 51, 81, 93, 30, 74, 8, 67, 81, 92, 63, 50, 91, 81, 76, 40, 81, 40, 14, 37, 28, 33, 99, 42, 21, 20, 7, 30, 68, 73, 44, 84, 53, 58, 86, 60, 1, 26, 5, 59, 43, 26, 22, 34, 50, 2, 84, 83, 1, 54, 61, 14, 69, 66, 48, 12, 16, 21, 9, 89, 21, 64, 77, 62, 38, 2, 38, 63, 36, 83, 62, 60, 98, 28, 53, 11, 26, 80, 96, 79, 70, 17, 8, 35, 82, 48, 13, 91, 74, 19, 79, 18, 10, 20, 27, 34, 38, 72, 10, 80, 10, 28, 81, 60, 7, 46, 47, 85, 2, 80, 46, 99, 100, 31, 33, 66}
	//	a = []int{2, 2, 3, 5}
	fmt.Println(canPartition(a))
}
